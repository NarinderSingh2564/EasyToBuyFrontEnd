
<div class="container-fluid mt-3 mb-4">
  <div class="row" *ngIf="totalCartItems>0">
    <div class="col-md-9">
      <div class="card">
        <div class="card-header">
          Delivery To : <strong> Sector 74, Mohali </strong>
          <button class="btn text-success" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample"
            aria-expanded="false" aria-controls="collapseExample">
            CHANGE
          </button>


        </div>

        <div class="collapse" id="collapseExample">
          <div class="card card-body">
            <app-customer-address [UserID]="userId"></app-customer-address>
          </div>
        </div>
        <div class="card-body" *ngIf="!collapsed">
          <div class="row">
            <p>This is some example text.</p>
            <p>This text will disappear when you use the action button in the actions bar below.</p>
          </div>
        </div>

        <div class="card-body">
          <div class="row" *ngFor="let item of cartList">
            <div class="col-md-2">
              <img [src]="item.productImageUrl" alt="">
            </div>
            <div class="col-md-6">
              <strong>{{item.productName}}</strong><br>
              <span class="text-muted" *ngIf="item.showProductWeight">{{item.productWeight}}</span><br>
              <span class="text-muted">Seller : SuperComNe</span><br>
              <div class="mt-2 mb-2">
                <small class="text-muted"><del>₹{{item.productPrice}}</del></small>
                <strong class="discount-price">₹{{item.productPriceAfterDiscount}}</strong>
                <span class="text-success">{{item.productDiscount}}%off</span>
              </div>
            </div>
            <div class="col-md-4">
              <span>Delivery by {{deliveryDate | date}} | <del class="text-muted">₹40</del><span class="text-success">
                  FREE</span></span>
            </div>
            <div class="p-4">
              <button class="btn btn-success btn-sm" (click)="decrement(item)">-</button>
              <span class="quantity">{{item.quantity}}</span>
              <button class="btn btn-success btn-sm" (click)="increment(item)">+</button>
              <a class="p-4"><strong>SAVE FOR LATER</strong></a>
              <a class="p-1" (click)="removeProductFromCart(item.id)"><strong>REMOVE</strong></a>
            </div>
            <hr class="mb-4">
          </div>
        </div>
        <div class="card-footer">
          <button class="btn text-white">PLACE ORDER</button>
        </div>
      </div>
    </div>
    <div class="col-md-3 mt-3">
      <!-- <aside> -->
      <div class="card">
        <div class="card-header"><strong class="text-muted">PRICE DETAILS</strong></div>
        <div class="card-body">
          <div>
            <span *ngIf="totalCartItems==1">Price ({{totalCartItems}} Item)</span>
            <span *ngIf="totalCartItems>1">Price ({{totalCartItems}} Items)</span>
            <span class="price">{{priceDetails.totalProductPrice | currency : 'INR'}}</span>
          </div>
          <div class="mt-2">
            <span>Discount</span>
            <span class="price text-success">- {{priceDetails.totalDiscountPrice | currency : 'INR'}}</span>
          </div>
          <div class="mt-2">
            <span>Delivery Charges</span>
            <span class="price text-muted"><del>₹40</del><span class="text-success"> FREE</span></span>
          </div>
          <hr class="hr">
          <div class="mt-2">
            <span><strong>Total Amount</strong></span>
            <strong class="price">{{priceDetails.totalCartPrice | currency : 'INR'}}</strong>
          </div>
          <hr class="hr">
          <strong class="text-success">You will save {{priceDetails.totalDiscountPrice | currency:'INR'}} on this
            order</strong>
        </div>
      </div>


      <!-- </aside> -->
    </div>
  </div>


</div>
<div *ngIf="totalCartItems==0" class="text-center empty-cart">
  <div><strong>Your cart is empty :(</strong></div>
  <div style="margin-top: -50px;">
    <i class="bi bi-cart-x"></i>
  </div>
  <div>
    <button class="btn btn-success btn-lg" (click)="goToShop()">SHOP NOW</button>
  </div>
</div>