<div class="main">
    <div class="container">
        <div class="title mt-3">
            <h3><strong>User Registration</strong></h3>
        </div>

        <div class="card mt-4 mb-5">

            <div class="card-header">
                <h4 class="p-2">Basic Details</h4>
            </div>
            <div class="card-body p-3 mb-3">
                <form [formGroup]="userBasicDetailsUIModel">
                    <div class="row mt-3">
                        <div class="col-md-3">
                            <label for="">Name</label>
                            <input type="text" formControlName="name" placeholder="Enter name" maxlength="30">
                            <div *ngIf="isFormValid && userFormControls['name'].errors">
                                <div *ngIf="userFormControls['name'].errors['required']" class="text-danger">
                                    Enter name.
                                </div>
                                <div *ngIf="userFormControls['name'].errors['pattern']" class="text-danger">
                                    Numbers and special characters are not allowed.
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <label for="">Email Address</label>
                            <input type="email" formControlName="email" placeholder="Enter email address" maxlength="30">
                            <div *ngIf="isFormValid && userFormControls['email'].errors">
                                <div *ngIf="userFormControls['email'].errors['required']" class="text-danger">
                                    Enter email address.
                                </div>
                                <div *ngIf="userFormControls['email'].errors['pattern']" class="text-danger">
                                    Invalid email address.
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <label for="">Mobile Number</label>
                            <input type="text" formControlName="mobile" placeholder="Enter mobile number" (keypress)="isNumberInput($event)"
                                maxlength="10">
                            <div *ngIf="isFormValid && userFormControls['mobile'].errors">
                                <div *ngIf="userFormControls['mobile'].errors['required']" class="text-danger">
                                    Enter mobile number.
                                </div>
                                <div *ngIf="userFormControls['mobile'].errors['pattern']" class="text-danger">
                                   Invalid mobile number.
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <label for="">Password</label>
                            <input [type]="showPwd ? 'text':'password'" formControlName="password"
                                placeholder="Enter password" maxlength="20">
                            <i [ngClass]="showPwd ? 'bi bi-eye-fill' : 'bi bi-eye-slash-fill'"
                                (click)="showPassword()"></i>
                            <div *ngIf="isFormValid && userFormControls['password'].errors">
                                <div *ngIf="userFormControls['password'].errors['required']" class="text-danger">
                                    Enter password.
                                </div>
                                <div *ngIf="userFormControls['password'].errors['pattern']" class="text-danger">
                                    Password must contain atleast 5 characters, 1 numeric, 1 upper case letter, and 1
                                    special character.
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-md-3">
                            <label for="">User Role</label>
                            <select formControlName="role">
                                <option value="" disabled selected hidden>--Select
                                    user role--</option>
                                <option value="Vendor">Vendor</option>
                                <option value="Store Manager">Store Manager</option>
                                <option value="Pickup Team">Pickup Team</option>
                                <option value="Delivery Team">Delivery Team</option>
                            </select>
                            <div *ngIf="isFormValid && userFormControls['role'].errors">
                                <div *ngIf="userFormControls['role'].errors['required']" class="text-danger">
                                    Select user role.
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <label for="">Identification Type</label>
                            <select formControlName="identificationType">
                                <option value="" disabled selected hidden>--Select
                                    identification type--</option>
                                <option value="Passport">Passport</option>
                                <option value="PAN Card">PAN Card</option>
                                <option value="Adhaar Card">Adhaar Card</option>
                                <option value="Driving License">Driving License</option>
                            </select>
                            <div *ngIf="isFormValid && userFormControls['identificationType'].errors">
                                <div *ngIf="userFormControls['identificationType'].errors['required']" class="text-danger">
                                    Select identification type.
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <label for="">Identification Number</label>
                            <input type="text" formControlName="identificationNumber"
                                placeholder="Enter identification number" maxlength="30">
                            <div *ngIf="isFormValid && userFormControls['identificationNumber'].errors">
                                <div *ngIf="userFormControls['identificationNumber'].errors['required']" class="text-danger">
                                    Enter identification number.
                                </div>
                                <div *ngIf="userFormControls['identificationNumber'].errors['pattern']" class="text-danger">
                                    Special characters not allowed.
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <label for="">Pincode</label>
                            <input type="text" formControlName="pincode" placeholder="Enter pincode" #userPincode (keypress)="isNumberInput($event)"
                                maxlength="6"  (change)="getAddressByPincode(userPincode.value,'userDetails')">
                            <div *ngIf="isFormValid && userFormControls['pincode'].errors">
                                <div *ngIf="userFormControls['pincode'].errors['required']" class="text-danger">
                                    Enter pincode.
                                </div>
                                <div *ngIf="userFormControls['pincode'].errors['pattern']" class="text-danger">
                                    Invalid pincode.
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-md-3">
                            <label for="">City</label>
                            <input type="text" class="disabled-input" formControlName="city">
                        </div>
                        <div class="col-md-3">
                            <label for="">State</label>
                            <input type="text" class="disabled-input" formControlName="state">
                        </div>
                        <div class="col-md-3">
                            <label for="">Country</label>
                            <input type="text" class="disabled-input" formControlName="country">
                        </div>
                        <div class="col-md-3">
                            <label for="">Full Address</label>
                            <input type="text" formControlName="fullAddress" placeholder="Enter full address" maxlength="200">
                            <div *ngIf="isFormValid && userFormControls['fullAddress'].errors">
                                <div *ngIf="userFormControls['fullAddress'].errors['required']" class="text-danger">
                                    Enter full address.
                                </div>
                                <div *ngIf="userFormControls['fullAddress'].errors['pattern']" class="text-danger">
                                    Special characters are not allowed.
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <div class="card-header">
                <h4 class="p-2">Company Details</h4>
            </div>
            <div class="card-body p-3 mb-3">
                <form [formGroup]="userCompanyDetailsUIModel" >
                    <div class="row mt-3">
                        <div class="col-md-4">
                            <label for="">Company's Name</label>
                            <input type="text" formControlName="companyName" placeholder="Enter company's name" maxlength="30">
                            <div *ngIf="isFormValid && companyFormControls['companyName'].errors">
                                <div *ngIf="companyFormControls['companyName'].errors['required']" class="text-danger">
                                    Enter company's name.
                                </div>
                                <div *ngIf="companyFormControls['companyName'].errors['pattern']" class="text-danger">
                                    Special characters are not allowed.
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <label for="">Company's Description</label>
                            <input type="text" formControlName="description" placeholder="Enter company's description" maxlength="200">
                            <div *ngIf="isFormValid && companyFormControls['description'].errors">
                                <div *ngIf="companyFormControls['description'].errors['required']" class="text-danger">
                                    Enter company's description.
                                </div>
                                <div *ngIf="companyFormControls['description'].errors['pattern']" class="text-danger">
                                    Special characters are not allowed.
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <label for="">Dealing Person's Name</label>
                            <input type="text" formControlName="dealingPerson" placeholder="Enter dealing person's name" maxlength="30">
                            <div *ngIf="isFormValid && companyFormControls['dealingPerson'].errors">
                                <div *ngIf="companyFormControls['dealingPerson'].errors['required']" class="text-danger">
                                    Enter dealing person's name.
                                </div>
                                <div *ngIf="companyFormControls['dealingPerson'].errors['pattern']" class="text-danger">
                                    Numbers and special characters are not allowed.
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-md-4">
                            <label for="">GSTIN</label>
                            <input type="text" formControlName="gstin" placeholder="Enter company's GSTIN" maxlength="30">
                            <div *ngIf="isFormValid && companyFormControls['gstin'].errors">
                                <div *ngIf="companyFormControls['gstin'].errors['required']" class="text-danger">
                                    Enter company's GSTIN.
                                </div>
                                <div *ngIf="companyFormControls['gstin'].errors['pattern']" class="text-danger">
                                    Invalid GSTIN.
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <label for="">Pincode</label>
                            <input type="text" formControlName="pincode" placeholder="Enter pincode" #companyPincode (keypress)="isNumberInput($event)" (change)="getAddressByPincode(companyPincode.value,'companyDetails')" maxlength="6">
                            <div *ngIf="isFormValid && companyFormControls['pincode'].errors">
                                <div *ngIf="companyFormControls['pincode'].errors['required']" class="text-danger">
                                    Enter pincode.
                                </div>
                                <div *ngIf="companyFormControls['pincode'].errors['pattern']" class="text-danger">
                                    Invalid pincode.
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <label for="">City</label>
                            <input type="text" class="disabled-input" formControlName="city">
                        </div>

                    </div>
                    <div class="row mt-3">
                        <div class="col-md-4">
                            <label for="">State</label>
                            <input type="text" class="disabled-input" formControlName="state">
                        </div>
                        <div class="col-md-4">
                            <label for="">Country</label>
                            <input type="text" class="disabled-input" formControlName="country">
                        </div>
                        <div class="col-md-4">
                            <label for="">Full Address</label>
                            <input type="text" formControlName="fullAddress" placeholder="Enter company's full address" maxlength="200">
                            <div *ngIf="isFormValid && companyFormControls['fullAddress'].errors">
                                <div *ngIf="companyFormControls['fullAddress'].errors['required']" class="text-danger">
                                    Enter company's full address.
                                </div>
                                <div *ngIf="companyFormControls['fullAddress'].errors['pattern']" class="text-danger">
                                    Special characters not allowed.
                                </div>
                            </div>
                        </div>
                    </div>
                    
                </form>
            </div>

            <div class="card-header">
                <h4 class="p-2">Bank Details</h4>
            </div>
            <div class="card-body p-3 mb-3">
                <form [formGroup]="userBankDetailsUIModel">
                    <div class="row mt-3">
                        <div class="col-md-4">
                            <label for="">Account Holder Name</label>
                            <input type="text" formControlName="accountHolderName" placeholder="Enter account holder name" maxlength="30">
                            <div *ngIf="isFormValid && bankFormControls['accountHolderName'].errors">
                                <div *ngIf="bankFormControls['accountHolderName'].errors['required']" class="text-danger">
                                    Enter account holder name.
                                </div>
                                <div *ngIf="bankFormControls['accountHolderName'].errors['pattern']" class="text-danger">
                                    Numbers and special characters are not allowed.
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <label for="">Account Number</label>
                            <input type="text" formControlName="accountNumber" #accountNumber (keypress)="isNumberInput($event)" placeholder="Enter account number" maxlength="30">
                            <div *ngIf="isFormValid && bankFormControls['accountNumber'].errors">
                                <div *ngIf="bankFormControls['accountNumber'].errors['required']" class="text-danger">
                                    Enter account number.
                                </div>
                                <div *ngIf="bankFormControls['accountNumber'].errors['pattern']" class="text-danger">
                                    Invalid account number.
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <label for="">Re-enter Account Number</label>
                            <input type="text" placeholder="Re-enter account number" (keypress)="isNumberInput($event)" formControlName="confirmAccountNumber" maxlength="30" #confirmAccountNumber (keyup)="validateAccountNumber()">
                            <div *ngIf="isFormValid && bankFormControls['confirmAccountNumber'].errors">
                                <div *ngIf="bankFormControls['confirmAccountNumber'].errors['required']" class="text-danger">
                                    Re-enter account number.
                                </div>
                            </div>
                            <div *ngIf="!isAccountNumberConfirm" class="text-danger">
                                Account number do not match.
                            </div>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-md-4">
                            <label for="">IFSC Code</label>
                            <input type="text" formControlName="ifscCode" placeholder="Enter IFSC code" maxlength="11" #ifsc (change)="getBankDetailsByIFSCCode(ifsc.value)">
                            <div *ngIf="isFormValid && bankFormControls['ifscCode'].errors">
                                <div *ngIf="bankFormControls['ifscCode'].errors['required']" class="text-danger">
                                    Enter IFSC code.
                                </div>
                                <div *ngIf="bankFormControls['ifscCode'].errors['pattern']" class="text-danger">
                                    Invalid IFSC code.
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <label for="">Bank Name</label>
                            <input type="text" class="disabled-input" formControlName="bankName">
                           
                        </div>
                        <div class="col-md-4">
                            <label for="">Branch</label>
                            <input type="text" class="disabled-input"  formControlName="branch">
                        </div>
                       
                    </div>
                   
                </form>
                <div class="text-center mt-3">
                    <button class="btn" tabindex="-1" (click)="userRegistration()">Submit</button>
                </div>
            </div>
        </div>
    </div>
</div>